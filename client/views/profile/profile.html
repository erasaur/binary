<template name="profile">
	{{#if user}}
		<div class="row full-height">
			<div class="col full-height col-xs-12 col-sm-8 col-sm-offset-2">
				<div class="col-content page-header">
					<div class="page-header-buttons">
						<i class="fa fa-chevron-left"></i>
						<div class="float-right">
							{{#if canFollow}}
								{{#if following}}
									<button id="unfollow" class="primary-button">Following</button>
								{{else}}
									<button id="follow" class="default-button">Follow</button>
								{{/if}}
							{{/if}}
						</div>
					</div>
					<div class="page-header-content">
						<h3>{{user.username}}</h3>
						<p>Reputation: {{likes}}</p>
					</div>
				</div>
				<div class="col-content page-nav">
					<ul class="nav-buttons clearfix">
					  <li class="nav-button {{isCurrentTab 'profileComments'}}"><a href="#" id="profileComments">Comments</a></li>
					  <li class="nav-button {{isCurrentTab 'profileTopics'}}"><a href="#" id="profileTopics">Topics</a></li>
					  <li class="nav-button {{isCurrentTab 'profileUsers'}}"><a href="#" id="profileUsers">Users</a></li>
					  <li class=""><a href="#">Temporary</a></li>
					</ul>
				</div>
				<div class="page-body">
					{{> UI.dynamic template=currentTab data=user}}
				</div>
			</div>
		</div>
	{{/if}}
</template>

<template name="profileComments">
	<div class="col-content page-body-header">
		<h3>Comments</h3>
		<span class="dropdown">
		  <button class="btn btn-default dropdown-toggle" type="button" id="comment-category" data-toggle="dropdown">
		    {{commentCategory}} <span class="caret"></span>
		  </button>
		  <ul class="dropdown-menu" role="menu" aria-labelledby="comment-category">
		    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Created</a></li>
		    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Liked</a></li>
		  </ul>
		</span>
	</div>

	<div class="col-content page-body-content">
		{{#if comments.count}}
			{{#each comments}}
				<div>
					<b><a href="{{pathFor 'profile' _id=userId}}">{{userId}}</a></b>:
					<p class="well">{{{breaklines content}}}</p>
				</div>
			{{/each}}
		{{else}}
			Nothing to see here!
		{{/if}}
	</div>
</template>

<template name="profileTopics">
	<div class="col-content page-body-header">
		<h3>Topics</h3>
		<span class="dropdown">
		  <button class="btn btn-default dropdown-toggle" type="button" id="comment-category" data-toggle="dropdown">
		    {{topicCategory}} <span class="caret"></span>
		  </button>
		  <ul class="dropdown-menu" role="menu" aria-labelledby="comment-category">
		    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Discussed</a></li>
		    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Created</a></li>
		    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Following</a></li>
		  </ul>
		</span>
	</div>

	<div class="col-content page-body-content">
		{{#if topics.count}}
			{{#each topics}}
				{{> topicItem}}
			{{/each}}
		{{else}}
			Nothing to see here!
		{{/if}}
	</div>
</template>

<template name="profileUsers">
	<h3>Followers</h3>
	{{#if followers.count}}
		{{#each followers}}
			<a href="{{pathFor 'profile'}}">{{username}}</a>
		{{/each}}
	{{else}}
		This user has no followers.
	{{/if}}
		
	<h3>Following</h3>
	{{#if following.count}}
		{{#each following}}
			<a href="{{pathFor 'profile'}}">{{username}}</a>
		{{/each}}
	{{else}}
		This user is not following anybody. Suggest some?
	{{/if}}
</template>






















